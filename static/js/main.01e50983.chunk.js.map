{"version":3,"sources":["components/Flex.tsx","utils/vegetarian.ts","utils/store.ts","utils/helpers.ts","components/Calendar/CalendarBody/DayGrid/DayTile/DayTileView.tsx","components/Calendar/CalendarBody/DayGrid/DayTile/index.ts","components/Calendar/CalendarBody/DayGrid/index.ts","components/Calendar/CalendarBody/DayGrid/DayGridView.tsx","components/Calendar/CalendarBody/CalendarBodyView.tsx","components/Calendar/CalendarBody/index.ts","components/Calendar/CalendarHeader/index.ts","components/Calendar/CalendarHeader/CalendarHeaderView.tsx","components/Calendar/CalendarConfiguration/CalendarConfigurationButton.tsx","components/Calendar/CalendarConfiguration/CalendarConfigurationView.tsx","components/Calendar/CalendarView.tsx","components/Calendar/index.ts","components/App/App.tsx","serviceWorker.ts","index.tsx"],"names":["Flex","_ref","direction","flex","justifyContent","alignItems","children","style","className","react_default","a","createElement","Object","objectSpread","display","flexDirection","checkMonthlySchedule","date","days30","days29","solarLunar","monthDays","lYear","lMonth","includes","lDay","defaultVegetarianSchedules","name","pred","getVegetarianSchedule","localStorage","scheduleName","getItem","schedule","findScheduleByName","defaultVegetarianSchedule","setItem","getVegetarianSchedules","find","Tile","_ref2","classes","isToday","isVegetarianDay","isMonth","components_Flex","filter","cls","join","DayTile","today","discrete","cDate","solar2lunar","year","month","day","DayTileView_Tile","hasSame","DayGrid","currentDate","displayDate","grid","startOf","weeks","week","days","push","plus","computeDateGrid","map","row","i","key","col","j","WeekdayRow","borderBottom","Info","weekdaysFormat","textAlign","CalendarBody","props","CalendarBodyView_WeekdayRow","CalendarHeader","onPrevMonth","onNextMonth","monthLong","bloomer_min","onClick","isSize","fontSize","fontWeight","CalendarConfigurationButton","CalendarConfigurationView","config","visible","onHide","onUpdate","isActive","ModalCard","ModalCardHeader","ModalCardTitle","Delete","ModalCardBody","Field","Label","Control","onChange","e","currentConfig","setVegetarianSchedule","newConfigFromSchedule","target","value","selected","Calendar","_React$Component","CalendarView","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setState","state","minus","months","onToggleConfigurationModal","showConfig","onHideConfigurationModal","onUpdateConfiguration","DateTime","local","inherits","createClass","_this$state","CalendarConfigurationView_CalendarConfigurationView","CalendarConfigurationButton_CalendarConfigurationButton","React","Component","App","Boolean","window","location","hostname","match","ReactDOM","render","components_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.01e50983.chunk.js","sourcesContent":["import React, { ReactElement, CSSProperties } from 'react';\n\nexport interface FlexProps {\n  direction?: 'row' | 'column';\n  flex?: number,\n  justifyContent?: 'flex-start' | 'flex-end' | 'center' | 'space-around' | 'space-between';\n  alignItems?: 'flex-start' | 'flex-end' | 'center' | 'space-around' | 'space-between';\n  children: ReactElement | ReactElement[];\n  style?: CSSProperties;\n  className?: string;\n}\n\nconst Flex = ({\n  direction,\n  flex,\n  justifyContent,\n  alignItems,\n  children,\n  style,\n  className\n}: FlexProps) => (\n  <div\n    className={className}\n    style={{\n      display: 'flex',\n      flexDirection: direction,\n      flex,\n      justifyContent,\n      alignItems,\n      ...style\n  }}>\n    {children}\n  </div>\n)\n\nexport default Flex;","import solarLunar, { SolarLunarDate } from 'solarlunar';\nimport { VegetarianSchedule } from './types';\n\nfunction checkMonthlySchedule(\n  date: SolarLunarDate,\n  days30: number[],\n  days29: number[]\n): boolean {\n  if (solarLunar.monthDays(date.lYear, date.lMonth) === 29) {\n    return days29.includes(date.lDay);\n  }\n  return days30.includes(date.lDay);\n}\n\nexport const defaultVegetarianSchedules: VegetarianSchedule[] = [\n  {\n    name: \"10 days a month\",\n    pred: (date: SolarLunarDate): boolean => (\n      checkMonthlySchedule(\n        date,\n        [1, 8, 14, 15, 18, 23, 24, 28, 29, 30],\n        [1, 8, 14, 15, 18, 23, 24, 27, 28, 29]\n      )\n    )\n  },\n  {\n    name: \"8 days a month\",\n    pred: (date: SolarLunarDate): boolean => (\n      checkMonthlySchedule(\n        date,\n        [1, 8, 14, 15, 18, 23, 24, 30],\n        [1, 8, 14, 15, 18, 23, 24, 29]\n      )\n    ),\n  },\n  {\n    name: \"6 days a month\",\n    pred: (date: SolarLunarDate): boolean => (\n      checkMonthlySchedule(\n        date,\n        [8, 14, 15, 18, 23, 29, 30],\n        [8, 14, 15, 18, 23, 28, 29]\n      )\n    ),\n  },\n  {\n    name: \"4 days a month\",\n    pred: (date: SolarLunarDate): boolean => (\n      checkMonthlySchedule(\n        date,\n        [1, 14, 15, 30],\n        [1, 14, 15, 29]\n      )\n    ),\n  },\n  {\n    name: \"2 days a month\",\n    pred: (date: SolarLunarDate): boolean => (\n      checkMonthlySchedule(\n        date,\n        [1, 15],\n        [1, 15]\n      )\n    ),\n  },\n];","import { defaultVegetarianSchedules } from './vegetarian';\nimport { VegetarianSchedule } from 'utils/types';\nimport { findScheduleByName } from './helpers';\n\nexport function getVegetarianSchedule(): VegetarianSchedule {\n  if (localStorage) {\n    const scheduleName = localStorage.getItem('schedule');\n    if (scheduleName) {\n      const schedule = findScheduleByName(scheduleName);\n      if (schedule) return schedule;\n    }\n  }\n\n  const defaultVegetarianSchedule = defaultVegetarianSchedules[0];\n  localStorage.setItem('schedule', defaultVegetarianSchedule.name);\n  return defaultVegetarianSchedule;\n}\n\nexport function getVegetarianSchedules(): VegetarianSchedule[] {\n  return defaultVegetarianSchedules;\n}\n\nexport function setVegetarianSchedule(schedule: VegetarianSchedule): void {\n  if (localStorage) {\n    localStorage.setItem('schedule', schedule.name);\n  }\n}\n\nexport function initializeStore(): void {\n  if (localStorage) {\n    const currVersion = '0.0.1';\n    const prevVersion = localStorage.getItem('version');\n\n    if (prevVersion !== null && prevVersion < currVersion) {\n      // Migration code (future work)\n    }\n\n    localStorage.setItem('version', currVersion);\n  }\n}","import { VegetarianSchedule } from 'utils/types';\nimport { getVegetarianSchedules } from 'utils/store';\n\nexport function findScheduleByName(\n  name: string\n): VegetarianSchedule | undefined {\n  return getVegetarianSchedules().find((schedule): boolean =>\n    schedule.name === name\n  );\n}\n\nexport function composeCssClasses(classes: (string | null)[]): string {\n  return classes.filter((cls): boolean => cls !== null).join(' ');\n}","import React, { ReactElement } from 'react';\nimport { DateTime } from 'luxon';\nimport solarLunar from 'solarlunar';\n\nimport Flex from 'components/Flex';\nimport { VegetarianDayPredicate } from 'utils/types';\nimport { composeCssClasses } from 'utils/helpers';\nimport './style.scss';\n\ninterface DayTileViewProps {\n  today: DateTime;\n  date: DateTime;\n  pred: VegetarianDayPredicate;\n  discrete: boolean;\n};\n\nexport const DayTileView = ({\n  date,\n  pred,\n  today,\n  discrete\n}: DayTileViewProps) => {\n  const cDate = solarLunar.solar2lunar(date.year, date.month, date.day);\n  return (\n    <Tile\n      isMonth={!discrete}\n      isToday={date.hasSame(today, 'day')}\n      isVegetarianDay={pred(cDate)}\n    >\n      <div className=\"calendar-tile-lunar-part\">{cDate.lDay}</div>\n      <div className=\"calendar-tile-solar-part\">{date.day}</div>\n    </Tile>\n  );\n};\n\ninterface TileProps {\n  isToday: boolean;\n  isVegetarianDay: boolean;\n  isMonth: boolean;\n  children: ReactElement | ReactElement[];\n}\nconst Tile = ({ isToday, isVegetarianDay, isMonth, children }: TileProps) => (\n  <Flex\n    className={composeCssClasses([\n      'calendar-tile',\n      isMonth ? null : 'calendar-tile-discrete',\n      isToday ? 'calendar-tile-today' : null,\n      isVegetarianDay ? 'calendar-tile-vegetarian' : null,\n    ])}\n    direction=\"column\"\n    justifyContent=\"center\"\n    alignItems=\"center\"\n  >\n    {children}\n  </Flex>\n);","import { DayTileView as DayTile } from './DayTileView';\n\nexport default DayTile","import { DayGridView as DayGrid } from './DayGridView';\n\nexport default DayGrid;","import React from 'react';\nimport { DateTime } from 'luxon';\n\nimport DayTile from './DayTile';\nimport Flex from 'components/Flex';\nimport { VegetarianDayPredicate } from 'utils/types';\n\nimport './style.scss';\n\ninterface DayGridViewProps {\n  currentDate: DateTime;\n  displayDate: DateTime;\n  pred: VegetarianDayPredicate;\n}\n\nexport const DayGridView = ({\n    currentDate,\n    displayDate,\n    pred,\n}: DayGridViewProps) => {\n  const grid = computeDateGrid(displayDate);\n  return (\n    <div className=\"day-grid\">\n      {grid.map((row, i) => (\n        <Flex key={i} justifyContent=\"space-around\">\n          {row.map((col, j) => (\n            <Flex key={i} flex={1} justifyContent=\"space-around\">\n              <DayTile\n                date={col}\n                pred={pred}\n                today={currentDate}\n                discrete={!col.hasSame(displayDate, 'month')}\n              />\n            </Flex>\n          ))}\n        </Flex>\n      ))}\n    </div>\n  );\n}\n\nfunction computeDateGrid(date: DateTime): DateTime[][] {\n  date = date.startOf('week');\n  const weeks = [];\n  for (let week = 0; week < 5; week++) {\n    const days = [];\n    for (let day = 0; day < 7; day++) {\n      days.push(date);\n      date = date.plus({ days: 1 });\n    }\n    weeks.push(days);\n  }\n  return weeks;\n}","import React from 'react';\nimport { DateTime, Info } from 'luxon';\n\nimport DayGrid from './DayGrid';\nimport Flex from 'components/Flex';\nimport { VegetarianDayPredicate } from 'utils/types';\n\n\ninterface CalendarBodyViewProps {\n  currentDate: DateTime;\n  displayDate: DateTime;\n  pred: VegetarianDayPredicate;\n}\n\nexport const CalendarBodyView = (props: CalendarBodyViewProps) => (\n  <Flex direction=\"column\" justifyContent=\"space-between\">\n    <WeekdayRow />\n    <DayGrid {...props} />\n  </Flex>\n);\n\nconst WeekdayRow = () => (\n  <Flex justifyContent=\"space-around\" style={{ borderBottom: '1px solid black' }}>\n    {Info.weekdaysFormat('short').map((day, i) => (\n      <h3 key={i} style={{ flex: 1, textAlign: 'center' }}>{day}</h3>\n    ))}\n  </Flex>\n);\n","import { CalendarBodyView as CalendarBody } from './CalendarBodyView';\n\nexport default CalendarBody;","import { CalendarHeaderView as CalendarHeader } from './CalendarHeaderView';\n\nexport default CalendarHeader;","import React from 'react';\nimport { DateTime } from 'luxon';\nimport { Button } from 'bloomer';\n\nimport Flex from 'components/Flex';\n\ninterface CalendarHeaderViewProps {\n  displayDate: DateTime;\n  onPrevMonth: () => void;\n  onNextMonth: () => void;\n}\n\nexport const CalendarHeaderView = ({\n  displayDate,\n  onPrevMonth,\n  onNextMonth\n}: CalendarHeaderViewProps) => {\n  const month = displayDate.monthLong;\n  const year = displayDate.year;\n  return (\n    <Flex alignItems=\"center\">\n        <Button onClick={onPrevMonth} isSize=\"large\">&lt;</Button>\n        <Flex direction=\"column\" flex={1} alignItems=\"center\">\n          <h2>{year}</h2>\n          <h1 style={{ fontSize: '1.5em', fontWeight: 'bold' }}>{month}</h1>\n        </Flex>\n        <Button onClick={onNextMonth} isSize=\"large\">&gt;</Button>\n    </Flex>\n  );\n};\n","import React from 'react';\n\nimport './style.scss';\n\nexport interface CalendarConfigurationButtonProps {\n  onClick: () => void;\n}\n\nexport const CalendarConfigurationButton = ({\n  onClick\n}: CalendarConfigurationButtonProps) => (\n  <div className=\"configuration-button\" onClick={onClick}>⚙</div>\n);","import React from 'react';\nimport { Modal, ModalBackground, Select } from 'bloomer';\n\nimport { getVegetarianSchedules, setVegetarianSchedule } from 'utils/store';\nimport { ModalCard } from 'bloomer/lib/components/Modal/Card/ModalCard';\nimport { ModalCardHeader } from 'bloomer/lib/components/Modal/Card/ModalCardHeader';\nimport { ModalCardTitle } from 'bloomer/lib/components/Modal/Card/ModalCardTitle';\nimport { ModalCardBody } from 'bloomer/lib/components/Modal/Card/ModalCardBody';\nimport { Delete } from 'bloomer/lib/elements/Delete';\nimport { Field } from 'bloomer/lib/elements/Form/Field/Field';\nimport { Label } from 'bloomer/lib/elements/Form/Label';\nimport { Control } from 'bloomer/lib/elements/Form/Control';\nimport { Configuration, VegetarianSchedule } from 'utils/types';\nimport { findScheduleByName } from 'utils/helpers';\n\nexport interface CalendarConfigurationViewProps {\n  config: Configuration;\n  visible: boolean;\n  onHide: () => void;\n  onUpdate: (newConfig: Configuration) => void;\n}\n\nexport const CalendarConfigurationView = ({\n  config,\n  visible,\n  onHide,\n  onUpdate,\n}: CalendarConfigurationViewProps) => (\n  <Modal isActive={visible}>\n    <ModalBackground />\n    <ModalCard>\n      <ModalCardHeader>\n        <ModalCardTitle>Configuration</ModalCardTitle>\n        <Delete onClick={onHide} />\n      </ModalCardHeader>\n      <ModalCardBody>\n        <Field>\n          <Label>Schedule</Label>\n          <Control>\n            <Select onChange={(e: any) => (\n              onUpdate(newConfigFromSchedule(\n                config,\n                findScheduleByName(e.target.value)\n              ))\n            )}>\n              {getVegetarianSchedules().map(({ name }) => (\n                name === config.schedule.name\n                  ? <option selected={true}>{ name }</option>\n                  : <option>{ name }</option>\n              ))}\n            </Select>\n          </Control>\n        </Field>\n      </ModalCardBody>\n    </ModalCard>\n  </Modal>\n);\n\nfunction newConfigFromSchedule(\n  currentConfig: Configuration,\n  schedule?: VegetarianSchedule,\n): Configuration {\n  if (schedule) {\n    setVegetarianSchedule(schedule);\n    return {\n      ...currentConfig,\n      schedule: schedule,\n    };\n  }\n  return currentConfig;\n}","import React from 'react';\nimport { DateTime } from 'luxon';\n\nimport CalendarBody from './CalendarBody';\nimport CalendarHeader from './CalendarHeader';\nimport Flex from 'components/Flex';\nimport { CalendarConfigurationButton, CalendarConfigurationView } from './CalendarConfiguration';\nimport { Configuration } from 'utils/types';\nimport { initializeStore, getVegetarianSchedule } from 'utils/store';\n\ninterface CalenderViewState {\n  currentDate: DateTime;\n  displayDate: DateTime;\n  config: Configuration;\n  showConfig: boolean;\n}\n\nexport class CalendarView extends React.Component<any, CalenderViewState> {\n  constructor(props: any) {\n    super(props);\n    initializeStore();\n    const currentDate = DateTime.local();\n    this.state = {\n      showConfig: false,\n      config: {\n        schedule: getVegetarianSchedule(),\n      },\n      displayDate: currentDate.startOf('month'),\n      currentDate,\n    };\n  }\n\n  render() {\n    const { currentDate, displayDate, config, showConfig } = this.state;\n    return (\n      <Flex\n        direction=\"column\"\n        justifyContent=\"space-around\"\n        alignItems=\"space-around\"\n      >\n          <CalendarHeader\n            displayDate={this.state.displayDate}\n            onPrevMonth={this.onPrevMonth}\n            onNextMonth={this.onNextMonth}\n          />\n          <CalendarBody\n            currentDate={currentDate}\n            displayDate={displayDate}\n            pred={config.schedule.pred}\n          />\n        <CalendarConfigurationView\n          visible={showConfig}\n          onHide={this.onHideConfigurationModal}\n          config={config}\n          onUpdate={this.onUpdateConfiguration}\n        />\n        <CalendarConfigurationButton\n          onClick={this.onToggleConfigurationModal}\n        />\n      </Flex>\n    );\n  }\n\n  onPrevMonth = () => {\n    this.setState({\n      ...this.state,\n      displayDate: this.state.displayDate.minus({ months: 1 }),\n    });\n  }\n  onNextMonth = () => {\n    this.setState({\n      ...this.state,\n      displayDate: this.state.displayDate.plus({ months: 1 }),\n    });\n  }\n\n  onToggleConfigurationModal = () => {\n    this.setState({ ...this.state, showConfig: !this.state.showConfig });\n  }\n\n  onHideConfigurationModal = () => {\n    this.setState({ ...this.state, showConfig: false });\n  }\n\n  onUpdateConfiguration = (config: Configuration) => {\n    this.setState({ ...this.state, config });\n  }\n}","import { CalendarView as Calendar } from './CalendarView'\n\nexport default Calendar;","import React from 'react';\n\nimport Calendar from 'components/Calendar';\nimport 'assets/sass/main.scss';\nimport './App.css';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"app\">\n      <Calendar />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}