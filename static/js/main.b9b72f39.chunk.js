(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(35)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),i=n.n(r),l=n(2),c=n(11),s=n(12),u=n(22),d=n(13),f=n(23),m=n(7),h=n(8),g=n.n(h),p=function(e){var t=e.direction,n=e.flex,a=e.justifyContent,r=e.alignItems,i=e.children,c=e.style,s=e.className;return o.a.createElement("div",{className:s,style:Object(l.a)({display:"flex",flexDirection:t,flex:n,justifyContent:a,alignItems:r},c)},i)};function v(e,t,n){return 29===g.a.monthDays(e.lYear,e.lMonth)?n.includes(e.lDay):t.includes(e.lDay)}var y=[{name:"10 days a month",pred:function(e){return v(e,[1,8,14,15,18,23,24,28,29,30],[1,8,14,15,18,23,24,27,28,29])}},{name:"8 days a month",pred:function(e){return v(e,[1,8,14,15,18,23,24,30],[1,8,14,15,18,23,24,29])}},{name:"6 days a month",pred:function(e){return v(e,[8,14,15,18,23,29,30],[8,14,15,18,23,28,29])}},{name:"4 days a month",pred:function(e){return v(e,[1,14,15,30],[1,14,15,29])}},{name:"2 days a month",pred:function(e){return v(e,[1,15],[1,15])}}];function E(){if(localStorage){var e=localStorage.getItem("schedule");if(e){var t=C(e);if(t)return t}}var n=y[0];return localStorage.setItem("schedule",n.name),n}function w(){return y}function C(e){return w().find(function(t){return t.name===e})}n(30);var b=function(e){var t,n=e.isToday,a=e.isVegetarianDay,r=e.isMonth,i=e.children;return o.a.createElement(p,{className:(t=["calendar-tile",r?null:"calendar-tile-discrete",n?"calendar-tile-today":null,a?"calendar-tile-vegetarian":null],t.filter(function(e){return null!==e}).join(" ")),direction:"column",justifyContent:"center",alignItems:"center"},i)},k=function(e){var t=e.date,n=e.pred,a=e.today,r=e.discrete,i=g.a.solar2lunar(t.year,t.month,t.day);return o.a.createElement(b,{isMonth:!r,isToday:t.hasSame(a,"day"),isVegetarianDay:n(i)},o.a.createElement("div",{className:"calendar-tile-lunar-part"},i.lDay),o.a.createElement("div",{className:"calendar-tile-solar-part"},t.day))};n(31);var D=function(e){var t=e.currentDate,n=e.displayDate,a=e.pred,r=function(e){e=e.startOf("week");for(var t=[],n=0;n<5;n++){for(var a=[],o=0;o<7;o++)a.push(e),e=e.plus({days:1});t.push(a)}return t}(n);return o.a.createElement("div",{className:"day-grid"},r.map(function(e,r){return o.a.createElement(p,{key:r,justifyContent:"space-around"},e.map(function(e,i){return o.a.createElement(p,{key:r,flex:1,justifyContent:"space-around"},o.a.createElement(k,{date:e,pred:a,today:t,discrete:!e.hasSame(n,"month")}))}))}))},j=function(){return o.a.createElement(p,{justifyContent:"space-around",style:{borderBottom:"1px solid black"}},m.Info.weekdaysFormat("short").map(function(e,t){return o.a.createElement("h3",{key:t,style:{flex:1,textAlign:"center"}},e)}))},S=function(e){return o.a.createElement(p,{direction:"column",justifyContent:"space-between"},o.a.createElement(j,null),o.a.createElement(D,e))},M=n(5),x=function(e){var t=e.displayDate,n=e.onPrevMonth,a=e.onNextMonth,r=t.monthLong,i=t.year;return o.a.createElement(p,{alignItems:"center"},o.a.createElement(M.Button,{onClick:n,isSize:"large"},"<"),o.a.createElement(p,{direction:"column",flex:1,alignItems:"center"},o.a.createElement("h2",null,i),o.a.createElement("h1",{style:{fontSize:"1.5em",fontWeight:"bold"}},r)),o.a.createElement(M.Button,{onClick:a,isSize:"large"},">"))},O=(n(32),function(e){var t=e.onClick;return o.a.createElement("div",{className:"configuration-button",onClick:t},"\u2699")}),N=n(14),I=n(15),T=n(16),W=n(17),A=n(18),B=n(19),U=n(20),P=n(21),H=function(e){var t=e.config,n=e.visible,a=e.onHide,r=e.onUpdate;return o.a.createElement(M.Modal,{isActive:n},o.a.createElement(M.ModalBackground,null),o.a.createElement(N.ModalCard,null,o.a.createElement(I.ModalCardHeader,null,o.a.createElement(T.ModalCardTitle,null,"Configuration"),o.a.createElement(A.Delete,{onClick:a})),o.a.createElement(W.ModalCardBody,null,o.a.createElement(B.Field,null,o.a.createElement(U.Label,null,"Schedule"),o.a.createElement(P.Control,null,o.a.createElement(M.Select,{onChange:function(e){return r(function(e,t){if(t)return function(e){localStorage&&localStorage.setItem("schedule",e.name)}(t),Object(l.a)({},e,{schedule:t});return e}(t,C(e.target.value)))}},w().map(function(e){var n=e.name;return n===t.schedule.name?o.a.createElement("option",{selected:!0},n):o.a.createElement("option",null,n)})))))))};var L=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onPrevMonth=function(){n.setState(Object(l.a)({},n.state,{displayDate:n.state.displayDate.minus({months:1})}))},n.onNextMonth=function(){n.setState(Object(l.a)({},n.state,{displayDate:n.state.displayDate.plus({months:1})}))},n.onToggleConfigurationModal=function(){n.setState(Object(l.a)({},n.state,{showConfig:!n.state.showConfig}))},n.onHideConfigurationModal=function(){n.setState(Object(l.a)({},n.state,{showConfig:!1}))},n.onUpdateConfiguration=function(e){n.setState(Object(l.a)({},n.state,{config:e}))},localStorage&&(localStorage.getItem("version"),localStorage.setItem("version","0.0.1"));var a=m.DateTime.local();return n.state={showConfig:!1,config:{schedule:E()},displayDate:a.startOf("month"),currentDate:a},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.currentDate,n=e.displayDate,a=e.config,r=e.showConfig;return o.a.createElement(p,{direction:"column",justifyContent:"space-around",alignItems:"space-around"},o.a.createElement(x,{displayDate:this.state.displayDate,onPrevMonth:this.onPrevMonth,onNextMonth:this.onNextMonth}),o.a.createElement(S,{currentDate:t,displayDate:n,pred:a.schedule.pred}),o.a.createElement(H,{visible:r,onHide:this.onHideConfigurationModal,config:a,onUpdate:this.onUpdateConfiguration}),o.a.createElement(O,{onClick:this.onToggleConfigurationModal}))}}]),t}(o.a.Component),z=(n(33),n(34),function(){return o.a.createElement("div",{className:"app"},o.a.createElement(L,null))}),R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function F(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(z,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/bodhi-calendar-v2",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/bodhi-calendar-v2","/service-worker.js");R?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):F(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):F(t,e)})}}()}},[[24,1,2]]]);
//# sourceMappingURL=main.b9b72f39.chunk.js.map